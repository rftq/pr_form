<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Кисть</title>
  <link rel="stylesheet" type="text/css" href="view.css" media="all">
  <script type="text/javascript" src="view.js"></script>
  <link rel="stylesheet" type="text/css" href="msfmultiselect.css" />
  <script src="msfmultiselect.js"></script>
  <!-- <script type="text/javascript" src="autorep.js"></script> -->
  <script type="text/javascript" src="jquery-2.1.3.min.js"></script>

  <script>
    function testVariable() {
      debugger

      let result_list = [];
      if (document.getElementById("list").length > 0) {
        for (let i = 0; i < document.getElementById("list").length; i++) {
          let option = document.getElementById("list").options[i];
          if (option.selected) {
            result_list += option.value;
          }
        }
      }

      let proekcia = "На обзорных рентгенограммах правой и левой кистей в двух проекциях ";
      let trav = "рентген-признаков костных травматических и деструктивных изменений не выявлено. ";
      let kong = "Суставные поверхности конгруэнтные";
      let min = "Минеральная плотность костей сохранена";
      let vys = "Высота рентгеновской суставной щели ";
      let sub = "";
      let kray = "спондилофиыты не визуализируются";
      let conclusion = "Заключение: рентген-признаков патологических изменений не выявлено";
    

      const vysList = {
        min1: "минимально снижена",
        um1: "умеренно снижена",
        snizh1: "снижена",
        vir1: "выражено снижена",
        pro1: "в проксимальном межфаланговом суставе",
        pp1: "1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти,",
        pl1: "1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        min2: "минимально снижена",
        um2: "умеренно снижена",
        snizh2: "снижена",
        vir2: "выражено снижена",
        dis1: "в дистальном межфаланговом суставе",
        dp1: "1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти,",
        dl1: "1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        pf1: "в 1-м, 2-м, 3-м, 4-м, 5-м пястно-фаланговом суставе(-ах) правой кисти, в 1-м, 2-м, 3-м, 4-м, 5-м пястно-фаланговом суставе(-ах) левой кисти,",
        pdall1: "в проксимальных и дистальных межфаланговых суставах правой и левой кистей,",
        pfall1: "в пястно-фаланговых суставах правой и левой кистей,",
        zp1: "в 1-м запястно-пястном суставе правой кисти, в 1-м запястно-пястном суставе левой кисти,",
      }

      // const subList = {
      //   sub1: "Субхондральный склероз суставной поверхности",
      //   up1: "уплотнение суставной поверхности",
      //   pod1: "подчеркнута суставная поверхность",
      //   pro2: "проксимальной фаланги",
      //   pfs1: "1-го,",
      //   pf2: "2-го,",
      //   pf3: "3-го,",
      //   pf4: "4-го,",
      //   pf5: "5-го,",
      //   ppr2: "пальца(-ев) правой кисти,",
      //   pfl1: "1-го,",
      //   pfl2: "2-го,",
      //   pfl3: "3-го,",
      //   pfl4: "4-го,",
      //   pfl5: "5-го,",
      //   pll2: "пальца(-ев) левой кисти,",
      //   sub2: "Субхондральный склероз суставной поверхности",
      //   up2: "уплотнение суставной поверхности",
      //   pod2: "подчеркнута суставная поверхность",
      //   dis2: "дистальной фаланги",
      //   df1: "1-го,",
      //   df2: "2-го,",
      //   df3: "3-го,",
      //   df4: "4-го,",
      //   df5: "5-го,",
      //   dpr2: "пальца(-ев) правой кисти,",
      //   dfl1: "1-го,",
      //   dfl2: "2-го,",
      //   dfl3: "3-го,",
      //   dfl3: "4-го,",
      //   dfl5: "5-го,",
      //   dll2: "пальца(-ев) левой кисти,",
      //   spyast: "1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей) правой кисти, 1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей)  левой кисти,",
      //   deform: "деформация суставной поверхности",
      //   defpro1: "проксимальной фаланги",
      //   def01: "1-го",
      //   def02: "2-го",
      //   def03: "3-го",
      //   def04: "4-го",
      //   def05: "5-го",
      //   defp1: "пальца(-ев) правой кисти,",
      //   def06: "1-го",
      //   def07: "2-го",
      //   def08: "3-го",
      //   def09: "4-го",
      //   def10: "5-го",
      //   defl1: "пальца(-ев) левой кисти,",
      //   defsr1: "средней фаланги",
      //   def11: "1-го",
      //   def12: "2-го",
      //   def13: "3-го",
      //   def14: "4-го",
      //   def15: "5-го",
      //   defp2: "пальца(-ев) правой кисти,",
      //   def16: "1-го",
      //   def17: "2-го",
      //   def18: "3-го",
      //   def19: "4-го",
      //   def20: "5-го",
      //   defl2: "пальца(-ев) левой кисти,",
      //   defdis: "дистальной фаланги",
      //   def21: "1-го",
      //   def22: "2-го",
      //   def23: "3-го",
      //   def24: "4-го",
      //   def25: "5-го",
      //   defp3: "пальца(-ев) правой кисти,",
      //   def26: "1-го",
      //   def27: "2-го",
      //   def28: "3-го",
      //   def29: "4-го",
      //   def30: "5-го",
      //   defl3: "пальца(-ев) левой кисти,",
      //   defpya: "1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей) правой кисти, 1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей) левой кисти,",
      // };


      // select vys
      for (let key in vysList) {
        if (result_list.includes(key)) {
          vys += vysList[key] + ' ';
        }
      }

      if (vys == "Высота рентгеновской суставной щели ") {
        vys += "не снижена. ";
      }

      vys = vys.replace(/,(?![^,]*,)/m, '.');

      // select sub def
      // for (let key in vysList) {
      //   if (result_list.includes(key)) {
      //     vys += vysList[key] + ' ';
      //   }
      // }


      // sub = sub.replace(/,(?![^,]*,)/m, '.');





      document.getElementById("show").innerText = proekcia + vys;




      let input = document.getElementById("pole");
      input.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          document.getElementById("saveForm").click();
        }
      });
    }

    function copy_to_clipboard(show) {
      document.getElementById(show).select();
      document.execCommand('copy');
    }

  </script>





</head>

<body id="main_body">

  <div id="form_container">

    <div id="form_item_1">


      <form id="form_48871" class="appnitro" method="post" action="">
        <div class="form_description">
          <h2>Кисть</h2>
          <p><!-- description --></p>
        </div>

        <div class="my_container">


          <div class="my_card">
            <select class="form-control" id="list" name="list" multiple>
              <option value="min1">минимально снижена</option>
              <option value="um1">умеренно снижена</option>
              <option value="snizh1">снижена</option>
              <option value="vir1">выражено снижена</option>
              <option value="pro1">в проксимальном мф суставе</option>
              <option value="pp1">пальца(-ев) правой кисти</option>
              <option value="pl1">пальца(-ев) левой кисти</option>
              <option value="min2">минимально снижена</option>
              <option value="um2">умеренно снижена</option>
              <option value="snizh2">снижена</option>
              <option value="vir2">выражено снижена</option>
              <option value="dis1">в дистальном мф суставе</option>
              <option value="dp1">пальца(-ев) правой кисти</option>
              <option value="dl1">пальца(-ев) левой кисти</option>
              <option value="pf1">в пястно-фаланговом</option>
              <option value="pdall1">в прокс и дист мф</option>
              <option value="pfall1: ">в пястно-фаланговых</option>
              <option value="zp1">в 1-м запястно-пястном</option>

              <option disabled>---СУБХ СКЛЕРОЗ---</option>

            </select>
          </div>
        </div>


      </form>


    </div>





    <div id="form_item_2">


      <div class="page">
        <nav class="page__menu menu">
          <ul class="menu__list r-list">
            <li class="menu__group"><a href="thorax.html" class="menu__link r-link text-underlined">ОГК</a></li>
            <li class="menu__group"><a href="knee.html" class="menu__link r-link text-underlined">КОЛ</a></li>
            <li class="menu__group"><a href="ankle.html" class="menu__link r-link text-underlined">ГОЛ</a></li>
            <li class="menu__group"><a href="hip.html" class="menu__link r-link text-underlined">ТБС</a></li>
            <li class="menu__group"><a href="wrist.html" class="menu__link r-link text-underlined">ЛУЧ</a></li>
          </ul>
          <ul class="menu__list r-list">
            <li class="menu__group"><a href="shoulder.html" class="menu__link r-link text-underlined">ПЛЕЧ</a></li>
            <li class="menu__group"><a href="cervicalis.html" class="menu__link r-link text-underlined">ШОП</a></li>
            <li class="menu__group"><a href="#0" class="menu__link r-link text-underlined">ГОП</a></li>
            <li class="menu__group"><a href="lumbalis.html" class="menu__link r-link text-underlined">ПОП</a></li>
          </ul>
        </nav>
      </div>
      <br>



      <textarea variable="yname" id="show" class="mytextarea" rows="15" cols="60"></textarea><br>


      <input class="pole" id="pole" />

      <li class="buttons">
        <input id="saveForm" class="my_btn-new" type="submit" name="submit" value="Вывод" onclick="testVariable()" />
        <input type="button" class="my_btn-new" value="Скопировать" onclick="copy_to_clipboard('show');">
      </li>

    </div>



  </div>



</body>

<script>

  var list = new MSFmultiSelect(
    document.querySelector('#list'),
    {
      theme: 'theme2',
      selectAll: true,
      searchBox: true,
      width: '500px',
      height: '80px',
      // readOnly: true,
      onChange: function (checked, value, instance) {
        console.log(checked, value, instance);
      },
      // appendTo: '#myselect',
      autoHide: false
    }
  )



</script>



</html>