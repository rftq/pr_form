<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Кисть</title>
  <link rel="stylesheet" type="text/css" href="../view.css" media="all">
  <script type="text/javascript" src="../view.js"></script>
  <link rel="stylesheet" type="text/css" href="../msfmultiselect.css" />
  <script src="../msfmultiselect.js"></script>
  <!-- <script type="text/javascript" src="autorep.js"></script> -->
  <script type="text/javascript" src="jquery-2.1.3.min.js"></script>

  <script>
    function testVariable() {
      debugger

      let result_list = [];
      if (document.getElementById("list").length > 0) {
        for (let i = 0; i < document.getElementById("list").length; i++) {
          let option = document.getElementById("list").options[i];
          if (option.selected) {
            result_list += option.value;
          }
        }
      }

      let proekcia = "На обзорной рентгенограмме правой и левой кистей в прямой проекции";
      let travm = "рентген-признаков костных травматических и деструктивных изменений не выявлено";
      let min = "Минеральная плотность костей сохранена";
      let kong = "Суставные поверхности конгруэнтные";
      let vys = "";
      let sub = "";
      let kray = "Краевые костные разрастания ";
      let kis = "Кистовидная перестройка ";
      let eros = "Краевые эрозии ";
      let conclusion = "Заключение: ";

      let space = " ";
      let dot = ". ";

      
      if (result_list.includes("вдвух")) {
        proekcia = "На обзорных рентгенограммах правой и левой кистей в двух проекциях";
      }

      const vysList = {
        про01: "в проксимальном межфаланговом суставе 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти",
        в01: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность,",
        в02: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность, минимальные краевые костные разрастания,",
        в03: "высота рентгеновской суставной щели умеренно снижена, уплотнена суставная поверхность, умеренные краевые костные разрастания,",
        в04: "высота рентгеновской суставной щели снижена, уплотнена суставная поверхность, краевые костные разрастания,",
        в05: "высота рентгеновской суставной щели выражено снижена, субхондральный склероз суставных поверхностей, выраженные краевые костные разрастания,",

        дис01: "в дистальном межфаланговом суставе 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти",
        в06: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность,",
        в07: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность, минимальные краевые костные разрастания,",
        в08: "высота рентгеновской суставной щели умеренно снижена, уплотнена суставная поверхность, умеренные краевые костные разрастания,",
        в09: "высота рентгеновской суставной щели снижена, уплотнена суставная поверхность, краевые костные разрастания,",
        в10: "высота рентгеновской суставной щели выражено снижена, субхондральный склероз суставных поверхностей, выраженные краевые костные разрастания,",

        про02: "в проксимальном межфаланговом суставе 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти",
        в11: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность,",
        в12: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность, минимальные краевые костные разрастания,",
        в13: "высота рентгеновской суставной щели умеренно снижена, уплотнена суставная поверхность, умеренные краевые костные разрастания,",
        в14: "высота рентгеновской суставной щели снижена, уплотнена суставная поверхность, краевые костные разрастания,",
        в15: "высота рентгеновской суставной щели выражено снижена, субхондральный склероз суставных поверхностей, выраженные краевые костные разрастания,",

        дис02: "в дистальном межфаланговом суставе 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти",
        в16: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность,",
        в17: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность, минимальные краевые костные разрастания,",
        в18: "высота рентгеновской суставной щели умеренно снижена, уплотнена суставная поверхность, умеренные краевые костные разрастания,",
        в19: "высота рентгеновской суставной щели снижена, уплотнена суставная поверхность, краевые костные разрастания,",
        в20: "высота рентгеновской суставной щели выражено снижена, субхондральный склероз суставных поверхностей, выраженные краевые костные разрастания,",

        мфвсе: "в проксимальных и дистальных межфаланговых суставах правой и левой кистей",
        пясфал: "в 1-м, 2-м, 3-м, 4-м, 5-м пястно-фаланговом суставе(-ах) правой кисти, в 1-м, 2-м, 3-м, 4-м, 5-м пястно-фаланговом суставе(-ах) левой кисти,",
        пфвсе: "в пястно-фаланговых суставах правой и левой кистей",
        зп: "в 1-м запястно-пястном суставе правой кисти, в 1-м запястно-пястном суставе левой кисти",
        в21: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность,",
        в22: "высота рентгеновской суставной щели минимально снижена, подчёркнута суставная поверхность, минимальные краевые костные разрастания,",
        в23: "высота рентгеновской суставной щели умеренно снижена, уплотнена суставная поверхность, умеренные краевые костные разрастания,",
        в24: "высота рентгеновской суставной щели снижена, уплотнена суставная поверхность, краевые костные разрастания,",
        в25: "высота рентгеновской суставной щели выражено снижена, субхондральный склероз суставных поверхностей, выраженные краевые костные разрастания,",
      };


      const kisList = {
        киспро: "проксимальной фаланги 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти, 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        кисср: "средней фаланги 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти, 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        кисдис: "дистальной фаланги 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти, 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        киспя: "1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей) правой кисти, 1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей) левой кисти,",
      }

      const erosList = {
        эрозпро: "проксимальной фаланги 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти, 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        эрозср: "средней фаланги 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти, 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        эроздис: "дистальной фаланги 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) правой кисти, 1-го, 2-го, 3-го, 4-го, 5-го пальца(-ев) левой кисти,",
        эрозпя: "1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей) правой кисти, 1-й, 2-й, 3-й, 4-й, 5-й пястной кости(-ей) левой кисти,",
      }

      const conclusionList = {
        оапро1дис23пф1: "рентген-признаки остеоартроза проксимальных межфаланговых суставов I-II стадии, дистальных межфаланговых суставов II-III стадии, пястно-фаланговых суставов I стадии (по Kellgren J.H., Lawrence J.S.),",
        нач: "рентген-признаки начальных проявлений остеоартроза проксимальных и дистальных межфаланговых суставов правой и левой кистей 0-I стадии (по Kellgren J.H., Lawrence J.S.),",
      }





      // select vys
      for (let key in vysList) {
        if (result_list.includes(key)) {
          vys += vysList[key] + ' ';
        }
      }

      if (vys == "") {
        vys = "Высота рентгеновской суставной щели не снижена. ";
      }

      vys = vys.replace(/,(?![^,]*,)/m, '.');
      vys = vys.charAt(0).toUpperCase() + vys.slice(1);


      // select kis
      for (let key in kisList) {
        if (result_list.includes(key)) {
          kis += kisList[key] + ' ';
        }
      }


      if (kis == "Кистовидная перестройка ") {
        kis = "";
      }

      kis = kis.replace(/,(?![^,]*,)/m, '.');


      // select eros
      for (let key in erosList) {
        if (result_list.includes(key)) {
          eros += erosList[key] + ' ';
        }
      }


      if (eros == "Краевые эрозии ") {
        eros = "";
      }

      eros = eros.replace(/,(?![^,]*,)/m, '.');

      // select conclusion
      for (let key in conclusionList) {
        if (result_list.includes(key)) {
          conclusion += conclusionList[key] + ' ';
        }
      }



      if (conclusion == "Заключение: ") {
        conclusion += "рентген-признаков патологических изменений не выявлено,";
      }

      conclusion = conclusion.replace(/,(?![^,]*,)/m, '.');















      document.getElementById("show").innerText = proekcia + space + travm + dot + kong + dot + min + dot + vys + kis + eros + conclusion;




      let input = document.getElementById("pole");
      input.addEventListener("keypress", function (event) {
        if (event.key === "Enter") {
          event.preventDefault();
          document.getElementById("saveForm").click();
        }
      });

    }

    function copy_to_clipboard(show) {
      document.getElementById(show).select();
      document.execCommand('copy');
    }

  </script>
</head>

<body id="main_body">

  <div id="form_container">

    <div id="form_item_1">


      <form id="form_48871" class="appnitro" method="post" action="">
        <div class="form_description">
          <h2>Кисть</h2>
          <p><!-- description --></p>
        </div>

        <div class="my_container">
          <div class="my_card">
            <select class="form-control" id="list" name="list" multiple>
              <option value="вдвух">в двух проекциях</option>
              <option value="про01">ПРОКСИМАЛЬНЫЙ МФ СПРАВА</option>
              <option value="в01">минимально, подч</option>
              <option value="в02">минимально, подч, миним</option>
              <option value="в03">умеренно, упл, умерен</option>
              <option value="в04">снижена, упл, краевые</option>
              <option value="в05">выражено, субх, выраж</option>
              <option value="дис01">ДИСТАЛЬНЫЙ МФ СПРАВА</option>
              <option value="в06">минимально, подч</option>
              <option value="в07">минимально, подч, миним</option>
              <option value="в08">умеренно, упл, умеренные</option>
              <option value="в09">снижена, упл, краевые</option>
              <option value="в10">выражено, субх, выраж</option>
              <option value="про02">ПРОКСИМАЛЬНЫЙ МФ СЛЕВА</option>
              <option value="в11">минимально, подч</option>
              <option value="в12">минимально, подч, миним</option>
              <option value="в13">умеренно, упл, умерен</option>
              <option value="в14">снижена, упл, краевые</option>
              <option value="в15">выражено, субх, выраж</option>
              <option value="дис02">ДИСТАЛЬНЫЙ МФ СЛЕВА</option>
              <option value="в16">минимально, подч</option>
              <option value="в17">минимально, подч, миним</option>
              <option value="в108">умеренно, упл, умеренные</option>
              <option value="в19">снижена, упл, краевые</option>
              <option value="в20">выражено, субх, выраж</option>
              <option value="мфвсе">В ПРОКС и ДИСТ МФ R И L</option>
              <option value="пясфал">ПЯСТНО-ФАЛАНГОВЫЙ</option>
              <option value="пфвсе">ПЯСТНО-ФАЛАНГОВЫЕ</option>
              <option value="зп">1-Й ЗАП-ПЯСТ</option>
              <option value="в21">минимально, подч</option>
              <option value="в22">минимально, подч, миним</option>
              <option value="в23">умеренно, упл, умерен</option>
              <option value="в24">снижена, упл, краевые</option>
              <option value="в25">выражено, субх, выраж</option>
              <option value="">------КИСТОВИДНАЯ------</option>
              <option value="киспро">проксим фаланги</option>
              <option value="кисср">средней фаланги</option>
              <option value="кисдис">дистальной фаланги</option>
              <option value="киспя">пястной кости</option>
              <option value="">---------ЭРОЗИИ---------</option>
              <option value="эрозпро">проксим фаланги</option>
              <option value="эрозср">средней фаланги</option>
              <option value="эроздис">дистальной фаланги</option>
              <option value="эрозпя">пястной кости</option>
              <option value="">-------ЗАКЛЮЧЕНИЕ-------</option>
              <option value="оапро1дис23пф1">про мф I-II, дист мф II-III, пф I</option>
              <option value="нач">нач про дис мф 0-I</option>
            </select>
          </div>
        </div>


      </form>


    </div>



    <div id="form_item_2">


      <div class="page">
        <nav class="page__menu menu">
          <ul class="menu__list r-list">
            <li class="menu__group"><a href="thorax.html" class="menu__link r-link text-underlined">ОГК</a></li>
            <li class="menu__group"><a href="shoulder.html" class="menu__link r-link text-underlined">ПЛЕЧ</a></li>
            <li class="menu__group"><a href="wrist.html" class="menu__link r-link text-underlined">ЛУЧ</a></li>
            <li class="menu__group"><a href="hip.html" class="menu__link r-link text-underlined">ТБС</a></li>
            <li class="menu__group"><a href="knees.html" class="menu__link r-link text-underlined">КОЛ</a></li>
            <li class="menu__group"><a href="ankle.html" class="menu__link r-link text-underlined">ГОЛ</a></li>
          </ul>
          <ul class="menu__list r-list">
            <li class="menu__group"><a href="hand.html" class="menu__link r-link text-underlined">КИСТЬ</a></li>
            <li class="menu__group"><a href="hands.html" class="menu__link r-link text-underlined">КИСТИ</a></li>
            <li class="menu__group"><a href="cervicalis.html" class="menu__link r-link text-underlined">ШОП</a></li>
            <li class="menu__group"><a href="#0" class="menu__link r-link text-underlined">ГОП</a></li>
            <li class="menu__group"><a href="lumbalis.html" class="menu__link r-link text-underlined">ПОП</a></li>
          </ul>
        </nav>
      </div>
      <br>



      <textarea variable="yname" id="show" class="mytextarea" rows="20" cols="60"></textarea><br>




      <input class="pole" id="pole" />

      <li class="buttons">
        <input id="saveForm" class="my_btn-new" type="submit" name="submit" value="Вывод" onclick="testVariable()" />
        <input type="button" class="my_btn-new" value="Скопировать" onclick="copy_to_clipboard('show');">
      </li>


      <!-- vocalbulary -->
      <!-- <div class="myDivParentWrapper">
        <div class="myDivParent">
          <div class="myDivChild">
          <li>минсниж1</li>
            <li>умсниж1</li>
            <li>вырсниж1</li>
            <li>снижена1</li>
            <li>выспро1</li>
            <li>высдис1</li>
            <li>минсниж2</li>
            <li>умсниж2</li>
            <li>вырсниж2</li>
            <li>снижена2</li>
            <li>выспро2</li>
            <li>высдис2</li>
            <li>пид</li>
            <li>пясфал</li>
            <li>пиф</li>
            <li>зп</li>
            </div>
      
          <div class="myDivChild">
            <li>субх </li>
            <li>субпро</li>
            <li>субср</li>
            <li>субдис</li>
            <li>упл</li>
            <li>уппро</li>
            <li>упср</li>
            <li>упдис</li>
            <li>подч</li>
            <li>подпро</li>
            <li>подср</li>
            <li>поддис</li>
            <li>пяст</li>
            <li>деф</li>
            <li>депро</li>
            <li>деср</li>
            <li>дедис</li>
            <li>депяс</li>
            </div>
            <div class="myDivChild">
              <li>крмин</li>
              <li>крпро1</li>
              <li>крдис1</li>
              <li>крпф1</li>
              <li>крвсепф1</li>
              <li>крвсемф1</li>
              <li>крум</li>
              <li>крпро2</li>
              <li>крдис2</li>
              <li>крпф2</li>
              <li>крвсепф2</li>
              <li>крвсемф2</li>
              <li>крвыр</li>
              <li>крпро3</li>
              <li>крдис3</li>
              <li>крпф3</li>
              <li>крвсепф3</li>
              <li>крвсемф3</li>
            </div>
            <div class="myDivChild"></div>
            <div class="myDivChild"></div>
          <div class="myDivChild"></div>
          <div class="myDivChild"></div>
        </div>
      </div> -->


    </div>


  </div>



</body>



<script>

  var list = new MSFmultiSelect(
    document.querySelector('#list'),
    {
      theme: 'theme2',
      selectAll: true,
      searchBox: true,
      width: '500px',
      height: '80px',
      // readOnly: true,
      onChange: function (checked, value, instance) {
        console.log(checked, value, instance);
      },
      // appendTo: '#myselect',
      autoHide: false
    }
  )



</script>



</html>